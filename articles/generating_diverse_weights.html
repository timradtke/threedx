<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="threedx">
<title>Generating Diverse Weights for Training • threedx</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generating Diverse Weights for Training">
<meta property="og:description" content="threedx">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">threedx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/threedx.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/forecasting_trends.html">Forecasting Trends with `threedx`</a>
    <a class="dropdown-item" href="../articles/define_custom_innovation_functions.html">Define Custom Innovation Functions</a>
    <a class="dropdown-item" href="../articles/define_custom_loss_functions.html">Define Custom Loss Functions</a>
    <a class="dropdown-item" href="../articles/generating_diverse_weights.html">Generating Diverse Weights for Training</a>
    <a class="dropdown-item" href="../articles/working_with_forecast_sample_paths.html">Working with Forecast Sample Paths</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/timradtke/threedx/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generating Diverse Weights for Training</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/timradtke/threedx/blob/HEAD/vignettes/generating_diverse_weights.Rmd" class="external-link"><code>vignettes/generating_diverse_weights.Rmd</code></a></small>
      <div class="d-none name"><code>generating_diverse_weights.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">4729</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/timradtke/threedx" class="external-link">threedx</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="parameter-space-and-weights-space">Parameter Space and Weights Space<a class="anchor" aria-label="anchor" href="#parameter-space-and-weights-space"></a>
</h2>
<p>During training of a <code>threedx</code> model, the parameters
<code>alpha</code>, <code>alpha_seasonal</code>, and
<code>alpha_seasonal_decay</code> are translated into weights that are
assigned to every index of the observed time series.</p>
<p>For example, given a time series of <code>n = 50</code> observations
with period length <code>period_length = 12L</code>, and parameter
choices <code>alpha = 0.9</code>, <code>alpha_seasonal = 0.9</code>, and
<code>alpha_seasonal_decay = 0.05</code>, the resulting weights would
be:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">weights_first</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/weights_threedx.html">weights_threedx</a></span><span class="op">(</span></span>
<span>  alpha <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  alpha_seasonal <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  alpha_seasonal_decay <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  period_length <span class="op">=</span> <span class="fl">12L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">weights_first</span>, <span class="fl">13L</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000</span></span>
<span><span class="co">#&gt; [11] 0.0001 0.0099 0.9900</span></span></code></pre></div>
<p><img src="generating_diverse_weights_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>We would expect that, if we let the model train over a wide range of
possible parameter combinations, we will try many different combinations
of weights and cover the range of possible models, and thereby find a
good one.</p>
<p>But the following set of parameters–at the other end of the possible
<code>alpha_seasonal</code> spectrum–results in nearly identical
weights:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">weights_second</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/weights_threedx.html">weights_threedx</a></span><span class="op">(</span></span>
<span>  alpha <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  alpha_seasonal <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  alpha_seasonal_decay <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  period_length <span class="op">=</span> <span class="fl">12L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">weights_second</span>, <span class="fl">13L</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0001 0.0007</span></span>
<span><span class="co">#&gt; [11] 0.0074 0.0819 0.9100</span></span></code></pre></div>
<p><img src="generating_diverse_weights_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>And so does this third combination of parameters where
<code>alpha_seasonal_decay</code> is at the opposite end of its allowed
range:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">weights_third</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/weights_threedx.html">weights_threedx</a></span><span class="op">(</span></span>
<span>  alpha <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  alpha_seasonal <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  alpha_seasonal_decay <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  period_length <span class="op">=</span> <span class="fl">12L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">weights_third</span>, <span class="fl">13L</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0001 0.0007</span></span>
<span><span class="co">#&gt; [11] 0.0074 0.0819 0.9100</span></span></code></pre></div>
<p><img src="generating_diverse_weights_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>Thus, large changes in the parameter space do not necessarily imply
large changes in the weights space. Since the weights space is what we
ultimately care about, and since we would like to cover the weights
space perhaps uniformly by default, this means that covering the
parameter space in a uniform manner is suboptimal.</p>
</div>
<div class="section level2">
<h2 id="the-impact-of-alpha">The Impact of <code>alpha</code><a class="anchor" aria-label="anchor" href="#the-impact-of-alpha"></a>
</h2>
<p>As indicated by the examples above, the <code>alpha</code> parameter
can overshadow the other two parameter choices. Depending on the length
of the period and the time series, <code>alpha</code> will assign so
much weight to the most recent one, two, or three indices that there
simply is no weight left for any other indices that come later—those
that are heavily impacted by the choice of <code>alpha_seasonal</code>
and <code>alpha_seasonal_decay</code>.</p>
<p>This can render the grid generated by the default
<code><a href="../reference/list_sampled_alphas.html">list_sampled_alphas()</a></code> function wasteful, as it uniformly
samples the parameter space, thereby trying many different combinations
of <code>alpha_seasonal</code> and <code>alpha_seasonal_decay</code> for
<code>alpha</code> values that will lead to essentially equal set of
weights.</p>
<p>Let’s take a look what would happen with a usual call to
<code><a href="../reference/list_sampled_alphas.html">list_sampled_alphas()</a></code> that samples the entire
<code>[0, 1]</code>-cube uniformly.</p>
<p>Below code chunk starts by creating the <code>alphas_grid</code>.
Once the <code>alphas_grid</code> is created, we generate the set of
1000 weights implied by the 1000 different parameter combinations. For
each of the 1000 implied sets of weights, we take the three weights
assigned to the three most recent observations and sum them, resulting
in the vector <code>weight_three_most_recent_indices</code> of length
1000. Each value summarizes the probability that a parameter set assigns
to the three most recent indices.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alphas_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_sampled_alphas.html">list_sampled_alphas</a></span><span class="op">(</span></span>
<span>  n_target <span class="op">=</span> <span class="fl">1000L</span>,</span>
<span>  alpha_lower <span class="op">=</span> <span class="fl">0.0001</span>,</span>
<span>  alpha_upper <span class="op">=</span> <span class="fl">0.9999</span>,</span>
<span>  alpha_seasonal_lower <span class="op">=</span> <span class="fl">0.0001</span>,</span>
<span>  alpha_seasonal_upper <span class="op">=</span> <span class="fl">0.9999</span>,</span>
<span>  alpha_seasonal_decay_lower <span class="op">=</span> <span class="fl">0.0001</span>,</span>
<span>  alpha_seasonal_decay_upper <span class="op">=</span> <span class="fl">0.9999</span>,</span>
<span>  oversample_lower <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  oversample_upper <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">weight_three_most_recent_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span></span>
<span>  <span class="fu">threedx</span><span class="fu">:::</span><span class="fu"><a href="../reference/weights_threedx_vec.html">weights_threedx_vec</a></span><span class="op">(</span></span>
<span>    alphas <span class="op">=</span> <span class="va">alphas_grid</span><span class="op">$</span><span class="va">alpha</span>,</span>
<span>    alphas_seasonal <span class="op">=</span> <span class="va">alphas_grid</span><span class="op">$</span><span class="va">alpha_seasonal</span>,</span>
<span>    alphas_seasonal_decay <span class="op">=</span> <span class="va">alphas_grid</span><span class="op">$</span><span class="va">alpha_seasonal_decay</span>,</span>
<span>    n <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>    period_length <span class="op">=</span> <span class="fl">12L</span></span>
<span>  <span class="op">)</span><span class="op">[</span>, <span class="fl">48</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The graph below shows how the choice of <code>alpha</code> drives the
(share of the total) weight assigned to the three most recent
observations alone.</p>
<p>Since the three parameters are sampled uniformly and independently
from each other, roughly 25% of parameter combinations plotted below
will have an <code>alpha</code> larger than 0.75, 50% will have an
<code>alpha</code> larger than 0.5, and so on.</p>
<p>Consequently, half of the parameter combinations assign more than 80%
of weight to the three most recent observations, and roughly 25% of the
parameter combinations even assign nearly 100% weight to the three most
recent indices.</p>
<p>Each of the 1000 parameter combinations implies a different model,
and thus different predictions, each of which leads to different
forecast performance. But since half of the parameter combinations imply
very <em>similar</em> weights, with the three most recent observations
being the only ones impacting the forecast, half of the models that are
evaluated produce very similar forecasts.</p>
<p><img src="generating_diverse_weights_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="generating-more-diverse-weights">Generating More Diverse Weights<a class="anchor" aria-label="anchor" href="#generating-more-diverse-weights"></a>
</h2>
<p>With <code><a href="../reference/learn_weights.html">learn_weights()</a></code>, the model is trained via grid
search. The provided <code>alphas_grid</code> is evaluated, and the loss
minimizing parameter combination is chosen. For fast performance, we
want to keep <code>alphas_grid</code> as small as possible. For improved
forecast performance, we want to try an as wide <code>alphas_grid</code>
as possible. But we especially don’t want to try parameter combinations
that imply similar weights multiple times and are close to
duplicate.</p>
<p>Given the above, we don’t need to try different values of
<code>alpha_seasonal</code> and <code>alpha_seasonal_decay</code> for
different <code>alpha</code> values. As soon as <code>alpha</code> is
moderately large, the weights will be essentially those of simple
exponential smoothing anyway.</p>
<p>Something like the following could help.</p>
<p>First, we create a simple sequence of moderately large
<code>alpha</code> values (here, larger than 0.50) while holding the
other two constant:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alphas_grid_ses</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span>,</span>
<span>  alpha_seasonal <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha_seasonal_decay <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Next, we draw a large set of random values of all three parameters
but keep <code>alpha</code> below 0.25:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alphas_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html" class="external-link">rbeta</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.50</span>,</span>
<span>  alpha_seasonal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html" class="external-link">rbeta</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, <span class="fl">0.75</span>, <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>  alpha_seasonal_decay <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html" class="external-link">rbeta</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, <span class="fl">0.7</span>, <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Finally we take the edge case parameter combinations and union the
three different sets:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alphas_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/list_edge_alphas.html">list_edge_alphas</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="va">alphas_grid_ses</span>,</span>
<span>    <span class="va">alphas_grid</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">weight_three_most_recent_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span></span>
<span>  <span class="fu">threedx</span><span class="fu">:::</span><span class="fu"><a href="../reference/weights_threedx_vec.html">weights_threedx_vec</a></span><span class="op">(</span></span>
<span>    alphas <span class="op">=</span> <span class="va">alphas_grid</span><span class="op">$</span><span class="va">alpha</span>,</span>
<span>    alphas_seasonal <span class="op">=</span> <span class="va">alphas_grid</span><span class="op">$</span><span class="va">alpha_seasonal</span>,</span>
<span>    alphas_seasonal_decay <span class="op">=</span> <span class="va">alphas_grid</span><span class="op">$</span><span class="va">alpha_seasonal_decay</span>,</span>
<span>    n <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>    period_length <span class="op">=</span> <span class="fl">12L</span></span>
<span>  <span class="op">)</span><span class="op">[</span>, <span class="fl">48</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>As is visible in the resulting graph, there are now a lot more
samples at the smaller weight levels for the three most recent
observations. This should help to leave more samples for parameter
combinations that model interesting combinations of seasonal
patterns.</p>
<p><img src="generating_diverse_weights_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Tim Radtke.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
