<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Use 3DX to generate interpretable probabilistic forecasts by purely
    weighting values from the observed time series. Unique about 3DX is that it
    can be used to derive forecasts not only based on a “latent state” but also
    observation-driven, drawing future realizations purely from observed values.
    This can be effective for count or intermittent series. The 3DX sampling
    distribution is a combination of three components: The first weighs
    observations exponentially, the second weighs observations within each
    seasonal period exponentially, the third weighs the seasonal periods over
    time exponentially.">
<title>Three-Dimensional Exponential Smoothing Forecasts • threedx</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Three-Dimensional Exponential Smoothing Forecasts">
<meta property="og:description" content="Use 3DX to generate interpretable probabilistic forecasts by purely
    weighting values from the observed time series. Unique about 3DX is that it
    can be used to derive forecasts not only based on a “latent state” but also
    observation-driven, drawing future realizations purely from observed values.
    This can be effective for count or intermittent series. The 3DX sampling
    distribution is a combination of three components: The first weighs
    observations exponentially, the second weighs observations within each
    seasonal period exponentially, the third weighs the seasonal periods over
    time exponentially.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">threedx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/threedx.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/forecasting_trends.html">Forecasting Trends with `threedx`</a>
    <a class="dropdown-item" href="articles/define_custom_innovation_functions.html">Define Custom Innovation Functions</a>
    <a class="dropdown-item" href="articles/define_custom_loss_functions.html">Define Custom Loss Functions</a>
    <a class="dropdown-item" href="articles/generating_diverse_weights.html">Generating Diverse Weights for Training</a>
    <a class="dropdown-item" href="articles/working_with_forecast_sample_paths.html">Working with Forecast Sample Paths</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/timradtke/threedx/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="threedx-3dx">threedx (3DX)<a class="anchor" aria-label="anchor" href="#threedx-3dx"></a>
</h1></div>
<!-- badges: start -->

<p>Use 3DX to generate interpretable probabilistic forecasts by purely weighting values from the observed time series.</p>
<p>What’s unique about 3DX is that it can be used to derive forecasts not only based on a “latent state” but also observation-driven, drawing future realizations purely from observed values. This can be effective for count or intermittent series.</p>
<p>3DX builds on ideas from the NPTS model described in <a href="https://arxiv.org/abs/1906.05264" class="external-link">Alexandrov et al. (2019)</a>. Its sampling distribution is a combination of three components: The first weighs observations exponentially, the second weighs observations within each seasonal period exponentially, the third weighs the seasonal periods over time exponentially.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>threedx</code> from <a href="https://github.com/timradtke/threedx" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"timradtke/threedx"</span><span class="op">)</span></span></code></pre></div>
<p>Written in pure R, with the <code>checkmate</code> package as the only direct dependency, installing <code>threedx</code> is a breeze.</p>
</div>
<div class="section level2">
<h2 id="get-started">Get Started<a class="anchor" aria-label="anchor" href="#get-started"></a>
</h2>
<p>Let’s generate a sparse monthly time series that has a strong seasonality.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">55</span>, lambda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">1</span> <span class="op">+</span> <span class="fl">10</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sinpi</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">59</span> <span class="op">/</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To forecast the series, we first fit a model by learning appropriate weights given the period length of the series’ seasonality.</p>
<p>Afterwards, the model can be used to derive a forecast using R’s <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/timradtke/threedx" class="external-link">threedx</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">threedx</span><span class="fu">::</span><span class="fu"><a href="reference/learn_weights.html">learn_weights</a></span><span class="op">(</span></span>
<span>  y <span class="op">=</span> <span class="va">y</span>,</span>
<span>  period_length <span class="op">=</span> <span class="fl">12L</span>,</span>
<span>  alphas_grid <span class="op">=</span> <span class="fu">threedx</span><span class="fu">::</span><span class="fu"><a href="reference/list_sampled_alphas.html">list_sampled_alphas</a></span><span class="op">(</span></span>
<span>    n_target <span class="op">=</span> <span class="fl">1000L</span>,</span>
<span>    include_edge_cases <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span>,</span>
<span>  loss_function <span class="op">=</span> <span class="va">loss_mae</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">forecast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span>
<span>  object <span class="op">=</span> <span class="va">model</span>,</span>
<span>  horizon <span class="op">=</span> <span class="fl">12L</span>,</span>
<span>  n_samples <span class="op">=</span> <span class="fl">2500L</span>,</span>
<span>  observation_driven <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>When <code>ggplot2</code> is available, we can use <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot()</a></code> to visualize the forecast object:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">forecast</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot_forecast-1.svg" width="100%"></p>
<p>The native output of a 3DX model are forecast sample paths, which can be accessed via <code>forecast$paths</code>. Visualize (a few of) them instead of quantile predictions by specifying the method <code>"paths"</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">forecast</span>, method <span class="op">=</span> <span class="st">"paths"</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot_sample_paths-1.svg" width="100%"></p>
</div>
<div class="section level2">
<h2 id="how-it-works">How It Works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p>The basis for a 3DX model are different ways of assigning a categorical probability distribution to the indices of the observed time series.</p>
<p>The distribution used in a 3DX model is based on a combination of three components that come together in <code><a href="reference/weights_threedx.html">weights_threedx()</a></code>. For a time series of 25 daily observations, weights could look like this:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">threedx</span><span class="fu">::</span><span class="fu"><a href="reference/weights_threedx.html">weights_threedx</a></span><span class="op">(</span></span>
<span>  alpha <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  alpha_seasonal <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  alpha_seasonal_decay <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">25L</span>,</span>
<span>  period_length <span class="op">=</span> <span class="fl">7L</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.0003333007 0.0003703341 0.0016459293 0.0073152415 0.0433495791</span></span>
<span><span class="co">#&gt;  [6] 0.0120415498 0.0033448749 0.0009291319 0.0010323688 0.0045883058</span></span>
<span><span class="co">#&gt; [11] 0.0203924702 0.1208442681 0.0335678523 0.0093244034 0.0025901121</span></span>
<span><span class="co">#&gt; [16] 0.0028779023 0.0127906768 0.0568474525 0.3368737929 0.0935760536</span></span>
<span><span class="co">#&gt; [21] 0.0259933482 0.0072203745 0.0080226383 0.0356561704 0.1584718684</span></span></code></pre></div>
<p><img src="reference/figures/README-weights_threedx_plot-1.svg" width="100%"></p>
<p>3DX weights are the product of three separate weight components.</p>
<div class="section level3">
<h3 id="exponential-weights">Exponential Weights<a class="anchor" aria-label="anchor" href="#exponential-weights"></a>
</h3>
<p>The simplest weight component is to assign exponentially decreasing weights. For a time series of daily observations with 25 observations, the weights could look like this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">threedx</span><span class="fu">::</span><span class="fu"><a href="reference/weights_exponential.html">weights_exponential</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.1</span>, n <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.008593575 0.009548417 0.010609352 0.011788169 0.013097966 0.014553295</span></span>
<span><span class="co">#&gt;  [7] 0.016170328 0.017967031 0.019963368 0.022181520 0.024646133 0.027384593</span></span>
<span><span class="co">#&gt; [13] 0.030427325 0.033808139 0.037564599 0.041738443 0.046376048 0.051528942</span></span>
<span><span class="co">#&gt; [19] 0.057254380 0.063615978 0.070684420 0.078538245 0.087264716 0.096960796</span></span>
<span><span class="co">#&gt; [25] 0.107734218</span></span></code></pre></div>
<p><img src="reference/figures/README-weights_exponential_plot-1.svg" width="100%"></p>
<p>Exponential weights are great as they smoothly interpolate between a mean forecast for <code>alpha = 0</code> and a random walk or naive forecast for <code>alpha = 1</code>.</p>
<p>But in many cases, we would like to model also a seasonal component of a time series. 3DX approaches this with two additional weight components.</p>
</div>
<div class="section level3">
<h3 id="exponential-seasonal-weights">Exponential Seasonal Weights<a class="anchor" aria-label="anchor" href="#exponential-seasonal-weights"></a>
</h3>
<p>The first assigns exponential weights <em>within</em> a seasonal period. Again, consider the time series of 25 daily observations. We suspect a weekly seasonality and set <code>period_length = 7</code> when deriving seasonal weights:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">threedx</span><span class="fu">::</span><span class="fu"><a href="reference/weights_seasonal.html">weights_seasonal</a></span><span class="op">(</span>alpha_seasonal <span class="op">=</span> <span class="fl">0.75</span>, n <span class="op">=</span> <span class="fl">25</span>, period_length <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.002941176 0.002941176 0.011764706 0.047058824 0.188235294 0.047058824</span></span>
<span><span class="co">#&gt;  [7] 0.011764706 0.002941176 0.002941176 0.011764706 0.047058824 0.188235294</span></span>
<span><span class="co">#&gt; [13] 0.047058824 0.011764706 0.002941176 0.002941176 0.011764706 0.047058824</span></span>
<span><span class="co">#&gt; [19] 0.188235294 0.047058824 0.011764706 0.002941176 0.002941176 0.011764706</span></span>
<span><span class="co">#&gt; [25] 0.047058824</span></span></code></pre></div>
<p>Starting from the point to be predicted next (index 26), the largest weight is assigned to the index <code>period_length</code>-steps ago, index 19. The same weight is assigned every other <code>period_length</code>-steps before that. Within a period, weights decay symmetrically, with larger weights closer to the season that is being predicted. Thus the index that is one step before the index to be predicted will have the second highest weight.</p>
<p><img src="reference/figures/README-weights_seasonal_plot-1.svg" width="100%"></p>
</div>
<div class="section level3">
<h3 id="seasonally-decaying-exponential-weights">Seasonally-Decaying Exponential Weights<a class="anchor" aria-label="anchor" href="#seasonally-decaying-exponential-weights"></a>
</h3>
<p>The final component assigns exponential weights <em>across</em> the seasonal periods but constant weights within a period:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">threedx</span><span class="fu">::</span><span class="fu"><a href="reference/weights_seasonal_decay.html">weights_seasonal_decay</a></span><span class="op">(</span></span>
<span>  alpha_seasonal_decay <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  period_length <span class="op">=</span> <span class="fl">7</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.02360140 0.02360140 0.02360140 0.02360140 0.03146853 0.03146853</span></span>
<span><span class="co">#&gt;  [7] 0.03146853 0.03146853 0.03146853 0.03146853 0.03146853 0.04195804</span></span>
<span><span class="co">#&gt; [13] 0.04195804 0.04195804 0.04195804 0.04195804 0.04195804 0.04195804</span></span>
<span><span class="co">#&gt; [19] 0.05594406 0.05594406 0.05594406 0.05594406 0.05594406 0.05594406</span></span>
<span><span class="co">#&gt; [25] 0.05594406</span></span></code></pre></div>
<p>Starting from the point to be predicted next (index 26), the largest weight is assigned to the index <code>period_length</code>-steps ago, index 19. The same weight is assigned every other <code>period_length</code>-steps before that. Within a period, weights decay symmetrically, with larger weights closer to the season that is being predicted. Thus the index that is one step before the index to be predicted will have the second highest weight.</p>
<p><img src="reference/figures/README-weights_seasonal_decay_plot-1.svg" width="100%"></p>
</div>
<div class="section level3">
<h3 id="learning-the-optimal-weights">Learning the Optimal Weights<a class="anchor" aria-label="anchor" href="#learning-the-optimal-weights"></a>
</h3>
<p>The weights generated by <code><a href="reference/weights_threedx.html">weights_threedx()</a></code> are determined by three parameters: <code>alpha</code>, <code>alpha_seasonal</code>, and <code>alpha_seasonal_decay</code>. These three parameters define a 3DX model.</p>
<p>Each of the three parameters can take values between 0 and 1. Larger values lead to faster decaying weights, assigning more weight to more recent (seasonal) time indices. Smaller values lead to more uniform weighting of time indices.</p>
<p>In <code><a href="reference/learn_weights.html">learn_weights()</a></code>, the optimal parameter combination is identified by evaluating those defined in <code>alphas_grid</code> based on the provided <code>loss_function</code>. Arbitrary loss functions of the observations <code>y</code> and fitted values <code>y_hat</code> can be optimized as black-box function in one-shot optimization. See, for example, <code><a href="reference/loss_rmse.html">loss_rmse()</a></code> or <code><a href="reference/loss_mae_with_observation_weight.html">loss_mae_with_observation_weight()</a></code>—then define your own!</p>
<p>The <code>alphas_grid</code> is a data frame in which each row represents a parameter combination. Combinations to be evaluated can be drawn uniformally using <code><a href="reference/list_sampled_alphas.html">list_sampled_alphas()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alphas_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/list_sampled_alphas.html">list_sampled_alphas</a></span><span class="op">(</span></span>
<span>  n_target <span class="op">=</span> <span class="fl">1000L</span>,</span>
<span>  alpha_lower <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha_upper <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  alpha_seasonal_lower <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha_seasonal_upper <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  alpha_seasonal_decay_lower <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha_seasonal_decay_upper <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  include_edge_cases <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">alphas_grid</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;       alpha alpha_seasonal alpha_seasonal_decay</span></span>
<span><span class="co">#&gt; 995  0.3313         0.4698               1.0000</span></span>
<span><span class="co">#&gt; 996  0.7007         0.0188               0.3768</span></span>
<span><span class="co">#&gt; 997  0.8676         0.9452               0.5221</span></span>
<span><span class="co">#&gt; 998  0.8650         0.6694               0.0820</span></span>
<span><span class="co">#&gt; 999  0.6261         0.8915               0.5038</span></span>
<span><span class="co">#&gt; 1000 0.2067         0.3665               0.1281</span></span></code></pre></div>
<p><img src="reference/figures/README-plot_list_sampled_alphas-1.svg" width="100%"></p>
<p>Of course there is no need to use <code><a href="reference/list_sampled_alphas.html">list_sampled_alphas()</a></code> to generate the set of parameter combinations to be evaluated. As only a data frame of columns <code>alpha</code>, <code>alpha_seasonal</code>, <code>alpha_seasonal_decay</code> is required, you can any set of parameters you see fit. This can be useful to re-use previously determined parameters, or values close to them.</p>
</div>
<div class="section level3">
<h3 id="id_3dx-interpolates-between-edge-cases">3DX Interpolates Between Edge Cases<a class="anchor" aria-label="anchor" href="#id_3dx-interpolates-between-edge-cases"></a>
</h3>
<p>Similarly to how simple exponential smoothing interpolates between the mean forecast and the naive forecast, 3DX interpolates between 1) the mean forecast, 2) the naive forecast, 3) the seasonal naive forecast, 4) the seasonal mean forecast, and 5) the last period’s mean forecast.</p>
<p>The paramater combinations that encode those models can be listed using <code><a href="reference/list_edge_alphas.html">list_edge_alphas()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/list_edge_alphas.html">list_edge_alphas</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   alpha alpha_seasonal alpha_seasonal_decay</span></span>
<span><span class="co">#&gt; 1     0              0                    0</span></span>
<span><span class="co">#&gt; 2     1              0                    0</span></span>
<span><span class="co">#&gt; 3     0              1                    1</span></span>
<span><span class="co">#&gt; 4     0              1                    0</span></span>
<span><span class="co">#&gt; 5     0              0                    1</span></span></code></pre></div>
<p>By choosing <code>include_edge_cases = TRUE</code> in <code><a href="reference/list_sampled_alphas.html">list_sampled_alphas()</a></code>, the first five of the returned parameter combinations are those edge cases. By including them, the edge cases are evaluated alongside all other parameter combinations in <code><a href="reference/learn_weights.html">learn_weights()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Alexander Alexandrov, Konstantinos Benidis, Michael Bohlke-Schneider, Valentin Flunkert, Jan Gasthaus, Tim Januschowski, Danielle C. Maddix, Syama Rangapuram, David Salinas, Jasper Schulz, Lorenzo Stella, Ali Caner Türkmen, Yuyang Wang (2019). <em>GluonTS: Probabilistic Time Series Models in Python</em>. <a href="https://arxiv.org/abs/1906.05264" class="external-link uri">https://arxiv.org/abs/1906.05264</a></p>
<p>James Bergstra, Yoshua Bengio (2012). <em>Random Search for Hyper-Parameter Optimization</em>. <a href="https://www.jmlr.org/papers/volume13/bergstra12a/bergstra12a.pdf" class="external-link uri">https://www.jmlr.org/papers/volume13/bergstra12a/bergstra12a.pdf</a></p>
<p>Jan Gasthaus (2016). <em>Non-parametric time series forecaster</em>. Technical report, Amazon, 2016.</p>
<p>Rob J. Hyndman, Anne B. Koehler, Ralph D. Snyder, and Simone Grose (2002). <em>A State Space Framework for Automatic Forecasting using Exponential Smoothing Methods</em>. <a href="https://doi.org/10.1016/S0169-2070(01)00110-8" class="external-link uri">https://doi.org/10.1016/S0169-2070(01)00110-8</a></p>
<p>Syama Sundar Rangapuram, Matthias W. Seeger, Jan Gasthaus, Lorenzo Stella, Yuyang Wang, Tim Januschowski (2018). <em>Deep State Space Models for Time Series Forecasting</em>. <a href="https://papers.nips.cc/paper/2018/hash/5cf68969fb67aa6082363a6d4e6468e2-Abstract.html" class="external-link uri">https://papers.nips.cc/paper/2018/hash/5cf68969fb67aa6082363a6d4e6468e2-Abstract.html</a></p>
<p>Suman Ravuri et al. (2021). <em>Skilful precipitation nowcasting using deep generative models of radar</em>. <a href="https://www.nature.com/articles/s41586-021-03854-z" class="external-link uri">https://www.nature.com/articles/s41586-021-03854-z</a></p>
<p>Rafael de Rezende, Katharina Egert, Ignacio Marin, Guilherme Thompson (2021). <em>A White-boxed ISSM Approach to Estimate Uncertainty Distributions of Walmart Sales</em>. <a href="https://arxiv.org/abs/2111.14721" class="external-link uri">https://arxiv.org/abs/2111.14721</a></p>
<p>Matthias Seeger, David Salinas, Valentin Flunkert (2016). <em>Bayesian Intermittent Demand Forecasting for Large Inventories</em>. <a href="https://papers.nips.cc/paper/2016/hash/03255088ed63354a54e0e5ed957e9008-Abstract.html" class="external-link uri">https://papers.nips.cc/paper/2016/hash/03255088ed63354a54e0e5ed957e9008-Abstract.html</a></p>
<p>Matthias Seeger, Syama Rangapuram, Yuyang Wang, David Salinas, Jan Gasthaus, Tim Januschowski, Valentin Flunkert (2017). <em>Approximate Bayesian Inference in Linear State Space Models for Intermittent Demand Forecasting at Scale</em>. <a href="https://arxiv.org/abs/1709.07638" class="external-link uri">https://arxiv.org/abs/1709.07638</a></p>
<p>P. R. Winters (1960). <em>Forecasting Sales by Exponentially Weighted Moving Averages</em>. <a href="https://doi.org/10.1287/mnsc.6.3.324" class="external-link uri">https://doi.org/10.1287/mnsc.6.3.324</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/timradtke/threedx/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/timradtke/threedx/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing threedx</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Tim Radtke <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/timradtke/threedx/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/timradtke/threedx/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/timradtke/threedx?branch=main" class="external-link"><img src="https://codecov.io/gh/timradtke/threedx/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Tim Radtke.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
